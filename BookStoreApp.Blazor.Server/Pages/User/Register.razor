@page "/user/register"
@using static System.Net.WebRequestMethods

<h3>Register New Account </h3>

 <div class="card-body">

     <EditForm Model="@RegistrationModel" OnValidSubmit="HandleRegistration">
       
         <DataAnnotationsValidator /> 
         <ValidationSummary />
  
 
    <div class="form-group">
        <label for="email">Email</label>
        <InputText id="Email" class="form-control" @bind-Value="RegistrationModel.Email" />
        <ValidationMessage For="@(() => RegistrationModel.Email)" />
    </div>

        <div class="form-group"> 
            <label for="FirstName">First Name</label>
        <InputText id="FirstName" class="form-control" @bind-Value="RegistrationModel.FirstName" />
        <ValidationMessage For="@(() => RegistrationModel.FirstName)" />
        </div>


    <div class="form-group">
        <label for="LastName">First Name</label>
        <InputText id="LastName" class="form-control" @bind-Value="RegistrationModel.LastName" />
        <ValidationMessage For="@(() => RegistrationModel.LastName)" />
    </div>





    <div class="form-group">
        <label for="Password">F</label>
        <InputText id="Password" class="form-control" @bind-Value="RegistrationModel.Password" />
        <ValidationMessage For="@(() => RegistrationModel.Password)" />
    </div>



    <button type="submit" class="btn btn-primary">Register</button>
    
    </EditForm>
</div> 

@code {

        UserDto RegistrationModel = new UserDto();




    private async Task  HandleRegistration()
    {

        // try
        // {
        //     await httpClient.RegisterAsync(RegistrationModel);
        //     if (response.IsSuccessStatusCode)
        //     {
        //         NavigationManager.NavigateTo("/user/login");
        //     }
        //     else
        //     {
        //         var error = await response.Content.ReadAsStringAsync();
        //         Console.WriteLine(error);
        //     }
        // }
        // catch (Exception ex)
        // {
        //     Console.WriteLine(ex.Message);
        // }
    }
}
